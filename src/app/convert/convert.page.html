<ion-header class="ion-no-border">
  <ion-toolbar class="pt-2 shadow-n bg-base text-color">
    <ion-row>
      <ion-col size="4"><span class="icon-title p-2 "><ion-icon size="large" (click)="back()"
            name="arrow-back"></ion-icon></span></ion-col>
      <ion-title class="text-color">Convert</ion-title>
    </ion-row>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-base">
  <div class="container text-color">
    <h1>Markets</h1>
    <!-- <div class="segments-container">
      <div class="custom-segment">
        <ion-button class="custom-segment-buttons" [class]="activeBaseMarket == 'USDT' ? 'active' : ''"
          (click)="changeActiveBaseMarket(convertIndexResponse?.base_coin)"
          fill="clear">{{convertIndexResponse?.base_coin}}</ion-button> -->
    <!-- <ion-button class="custom-segment-buttons" [class]="activeBaseMarket == 'BTC' ? 'active' : ''"
          (click)="changeActiveBaseMarket('BTC')" fill="clear">BTC</ion-button>
        <ion-button class="custom-segment-buttons" [class]="activeBaseMarket == 'ETH' ? 'active' : ''"
          (click)="changeActiveBaseMarket('ETH')" fill="clear">ETH</ion-button> -->
    <!-- </div>
    </div> -->
    <ion-select labelPlacement="stacked" label="From Coin" value="mainCoin" [(ngModel)]="mainCoin" class="w-100"
      name="mainCoin">
      <ion-icon slot="start" name="logo-bitcoin" aria-hidden="true" color="warning"></ion-icon>
      <ion-select-option class="w-100" *ngFor="let coin of filteredCoinsList | keyvalue"
        value="{{coin.key.toUpperCase()}}">
        {{coin.key.toUpperCase()}} {{" "}} [{{coin?.value?.balance}}]
      </ion-select-option>
    </ion-select>

    <div class="custom-divider"></div>

    <ion-select labelPlacement="stacked" label="To Coin" value="activeBaseMarket" [(ngModel)]="activeBaseMarket"
      class="w-100 mt-5" name="activeBaseMarket">
      <ion-icon slot="start" name="logo-bitcoin" aria-hidden="true" color="warning"></ion-icon>
      <ion-select-option class="w-100" *ngFor="let coin of coinsList | keyvalue" value="{{coin.key.toUpperCase()}}">
        {{coin.key.toUpperCase()}} {{" "}} [{{coin?.value?.balance}}]
      </ion-select-option>
    </ion-select>

    <!-- helperText="Available balance: {{this.formatNumber(this.coinsList[this.mainCoin.toLowerCase()]?.balance) ?? 0}}" -->
    <ion-input class="mt-3" label="Enter amount  ({{mainCoin}})" [(ngModel)]="amount" labelPlacement="floating"
      labelPlacement="floating" (input)="amountCorrectCheck()" placeholder="Enter amount"
      value="{{amount}}"></ion-input>
    <ion-button expand="block" class="sliderButton mt-5" [disabled]="!amountCorrect || mainCoin == activeBaseMarket"
      (click)="convertDoTrade()">
      Confirm
    </ion-button>
    <div class="d-flex align-items-center justify-content-center w-100">
      <div class="custom-divider w-50"></div>
    </div>
    <ion-button expand="block" class="sliderButton" [disabled]="!true" color="success" (click)="referToTransfer()">
      Transfer
    </ion-button>
  </div>
</ion-content>