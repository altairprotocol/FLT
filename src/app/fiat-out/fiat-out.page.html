<ion-header class="shadow-n bg-base">
  <ion-toolbar class="bg-base">
    <ion-row>
      <ion-col size="4"><span class="icon-title p-2 "><ion-icon class="text-color" size="large" (click)="back()" 
            name="arrow-back"></ion-icon></span></ion-col>
      <ion-title class="text-color">Withdraw</ion-title>
    </ion-row>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="bg-base">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-card class="p-2 card-border bg-base">
    <div class="total-balance">
      <p class="total-balance-text">Total Balance</p>
      <p class="total-balance-amount">{{coin_total | number: '1.8'}} {{coin_name?.toUpperCase()}}</p>
    </div>

    <div class="withdraw-form">
      <div class="w-100">
        <span class="text-large" (click)="addbank()">Add bank?</span>
        <ion-select placeholder="Select one" class="w-100 text-color" [(ngModel)]="sendaddress"
          disabled="{{addresses?.length === 0}}">
          <ion-select-option *ngFor="let adr of addresses" [value]="adr.id">{{adr.name}}</ion-select-option>
        </ion-select>
      </div>
      <div class="w-100">
        <!-- <span (click)="max()" class="text-muted">Max</span> -->
        <ion-input label="Amount" label-placement="floating" fill="outline" class="custom-input my-1"
          [(ngModel)]="sendAmount" min="0.000001" max="100000000" inputmode="decimal" type="number"></ion-input>
      </div>
      <ion-input label=" Fund Password" label-placement="floating" fill="outline" class="custom-input my-1"
        [(ngModel)]="fundpassword"><ion-input-password-toggle style="color: beige!important;"
          slot="end"></ion-input-password-toggle></ion-input>
    </div>

    <div class="action-buttons">
      <ion-row>
        <ion-col size="6">
          <ion-button color="danger" expand="block" class="h-40" (click)="back()">Cancel</ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button (click)="sendWithdrawal(selectcoin,sendAmount,fundpassword,sendaddress,selectcoin)"
            color="success" expand="block" class="h-40">Withdraw</ion-button>
        </ion-col>
      </ion-row>
    </div>
  </ion-card>
</ion-content>